{"version":3,"file":"index.modern.mjs","sources":["../src/list.tsx"],"sourcesContent":["import * as React from 'react'\n\nimport {\n  chakra,\n  forwardRef,\n  HTMLChakraProps,\n  ThemingProps,\n  omitThemingProps,\n  SystemProps,\n  SystemStyleObject,\n  As,\n  useColorModeValue,\n  useMultiStyleConfig,\n  createStylesContext,\n  ResponsiveValue,\n} from '@chakra-ui/system'\n\nimport { cx, __DEV__ } from '@chakra-ui/utils'\n\nimport { ButtonGroup, ButtonGroupProps } from '@saas-ui/button'\n\nimport { Icon } from '@chakra-ui/icon'\n\nconst [StylesProvider, useStyles] = createStylesContext('List')\n\ninterface ListOptions {\n  /**\n   * An array of list items\n   */\n  items?: Array<ListItemProps>\n}\n\nexport interface ListProps\n  extends ListOptions,\n    HTMLChakraProps<'ul'>,\n    ThemingProps<'List'> {}\n\n/**\n * React component to render lists of data\n */\nexport const List = forwardRef<ListProps, 'ul'>((props, ref) => {\n  const { items, children, ...rest } = props\n\n  const styles = useMultiStyleConfig('List', rest)\n\n  const listProps = omitThemingProps(rest)\n\n  let content\n  if (items) {\n    content = items.map((item: any, i: number) => {\n      return <ListItem {...item} key={item.id || i} />\n    })\n  } else {\n    content = children\n  }\n\n  const listStyles: SystemStyleObject = {\n    py: 2,\n    position: 'relative',\n    ...styles.list,\n  }\n\n  return (\n    <StylesProvider value={styles}>\n      <chakra.ul\n        ref={ref}\n        __css={listStyles}\n        {...listProps}\n        className={cx('saas-list', props.className)}\n      >\n        {content}\n      </chakra.ul>\n    </StylesProvider>\n  )\n})\n\nList.defaultProps = {\n  variant: 'structured-list',\n}\n\nif (__DEV__) {\n  List.displayName = 'List'\n}\n\nexport interface ListHeaderProps extends HTMLChakraProps<'li'> {\n  /**\n   * Action rendered next to the title\n   */\n  action?: React.ReactNode\n  /**\n   * The aria-level\n   */\n  level?: number\n}\n\nexport const ListHeader: React.FC<ListHeaderProps> = (props) => {\n  const {\n    children,\n    onClick,\n    action,\n    role = 'heading',\n    level = 1,\n    ...rest\n  } = props\n  const styles = useStyles()\n\n  const headerStyles = {\n    display: 'flex',\n    flexDirection: 'row',\n    py: 2,\n    px: 4,\n    position: 'sticky',\n    fontSize: 'md',\n    fontWeight: 'semibold',\n    color: useColorModeValue('gray.500', 'gray.400'),\n    ...styles.header,\n  }\n\n  return (\n    <chakra.li\n      __css={headerStyles}\n      onClick={onClick}\n      {...rest}\n      className={cx('saas-list__header', props.className)}\n    >\n      <chakra.span flex=\"1\" userSelect=\"none\" role={role} aria-level={level}>\n        {children}\n      </chakra.span>\n      {action}\n    </chakra.li>\n  )\n}\n\nif (__DEV__) {\n  ListHeader.displayName = 'ListHeader'\n}\n\nexport interface ListItemProps extends HTMLChakraProps<'li'> {\n  icon?: any\n  primary?: React.ReactNode\n  secondary?: React.ReactNode\n  tertiary?: React.ReactNode\n  action?: React.ReactNode\n  onClick?: (e: React.MouseEvent) => void\n  href?: string | object\n}\n\n/**\n * Adding `onClick` or `href` props will wrap the content in a `ListButton`\n */\nexport const ListItem = forwardRef<ListItemProps, 'li'>((props, ref) => {\n  const {\n    icon,\n    primary,\n    secondary,\n    tertiary,\n    action,\n    onClick,\n    href,\n    as,\n    children,\n    ...rest\n  } = props\n\n  const styles = useStyles()\n\n  const isButton = onClick || href\n\n  const ContentWrapper = isButton ? ListItemButton : React.Fragment\n  const isComposed = !!(icon || primary || secondary || tertiary || action)\n  const disablePadding = !isComposed || isButton\n\n  const itemStyles: SystemStyleObject = {\n    display: 'flex',\n    flexDirection: 'row',\n    alignItems: 'center',\n    fontSize: 'md',\n    py: disablePadding ? 0 : 2,\n    px: disablePadding ? 0 : 4,\n    ...styles.item,\n  }\n\n  const wrapperProps = isButton\n    ? {\n        paddingEnd: action ? 16 : undefined,\n        onClick,\n        href,\n        as,\n      }\n    : {}\n\n  const content =\n    isButton || isComposed ? (\n      <ContentWrapper {...wrapperProps}>\n        {icon && <ListItemIcon>{icon}</ListItemIcon>}\n        {(primary || secondary) && (\n          <ListItemLabel primary={primary} secondary={secondary} />\n        )}\n        {tertiary && <ListItemTertiary>{tertiary}</ListItemTertiary>}\n        {children}\n      </ContentWrapper>\n    ) : (\n      children\n    )\n\n  return (\n    <chakra.li\n      ref={ref}\n      __css={itemStyles}\n      {...rest}\n      className={cx('saas-list__item', props.className)}\n    >\n      {content}\n      {action && <ListItemAction>{action}</ListItemAction>}\n    </chakra.li>\n  )\n})\n\nif (__DEV__) {\n  ListItem.displayName = 'ListItem'\n}\n\nexport interface ListItemButtonProps extends HTMLChakraProps<'div'> {\n  onClick?: (e: React.MouseEvent) => void\n  as?: As\n}\n\n/**\n * Behaves like a button by default.\n * Use the 'as' prop to render a link.\n *\n * <ListItemButton as=\"a\" href=\"/page\" />\n *\n * or\n *\n * <ListItemButton as={Link} href={{path: '/page}} />\n */\nexport const ListItemButton = forwardRef<ListItemButtonProps, 'div'>(\n  (props, ref) => {\n    const { children, ...rest } = props\n    const styles = useStyles()\n\n    const buttonStyles: SystemStyleObject = {\n      display: 'flex',\n      flexDirection: 'row',\n      alignItems: 'center',\n      flex: 1,\n      cursor: 'pointer',\n      userSelect: 'none',\n      py: 2,\n      px: 4,\n      ...styles.button,\n    }\n\n    return (\n      <chakra.div\n        ref={ref}\n        __css={buttonStyles}\n        role=\"button\"\n        tabIndex={0}\n        {...rest}\n        className={cx('saas-list__item-button', props.className)}\n      >\n        {children}\n      </chakra.div>\n    )\n  }\n)\n\nif (__DEV__) {\n  ListItemButton.displayName = 'ListItemButton'\n}\n\nexport interface ListItemIconProps extends HTMLChakraProps<'div'> {\n  /**\n   * The icon size\n   * @default 5\n   */\n  size?: SystemProps['boxSize']\n  /**\n   * The icon spacing, ltr supported\n   */\n  spacing?: SystemProps['margin']\n}\n\nexport const ListItemIcon: React.FC<ListItemIconProps> = (props) => {\n  const { children, spacing, size = 5, as, ...rest } = props\n  const styles = useStyles()\n\n  const iconStyles: SystemStyleObject = {\n    ...styles.icon,\n    display: 'flex',\n    flexShrink: 0,\n    me: spacing,\n  }\n\n  let _icon = children\n  if (!_icon && as) {\n    _icon = <Icon as={as} role=\"presentation\" boxSize={size} />\n  } else if (React.isValidElement(_icon) && _icon.type === Icon) {\n    _icon = React.cloneElement<any>(_icon, {\n      boxSize: size,\n    })\n  }\n\n  return (\n    <chakra.div\n      __css={iconStyles}\n      {...rest}\n      className={cx('saas-list__item-icon', props.className)}\n    >\n      {_icon}\n    </chakra.div>\n  )\n}\n\nif (__DEV__) {\n  ListItemIcon.displayName = 'ListItemIcon'\n}\n\nexport interface ListItemLabelProps extends HTMLChakraProps<'div'> {\n  primary?: React.ReactNode\n  secondary?: React.ReactNode\n}\n\nexport const ListItemLabel: React.FC<ListItemLabelProps> = (props) => {\n  const { primary, secondary, children, ...rest } = props\n  const styles = useStyles()\n\n  const labelStyles: SystemStyleObject = {\n    display: 'flex',\n    flexDirection: 'column',\n    flex: 1,\n    py: 1,\n    ...styles.label,\n  }\n\n  const primaryStyles = {\n    ...styles.primary,\n  }\n\n  const secondaryStyles = {\n    fontSize: 'sm',\n    color: useColorModeValue('gray.500', 'gray.400'),\n    ...styles.secondary,\n  }\n\n  return (\n    <chakra.div\n      __css={labelStyles}\n      {...rest}\n      className={cx('saas-list__item-label', props.className)}\n    >\n      {primary && (\n        <chakra.span noOfLines={1} __css={primaryStyles}>\n          {primary}\n        </chakra.span>\n      )}\n      {secondary && (\n        <chakra.span noOfLines={1} __css={secondaryStyles}>\n          {secondary}\n        </chakra.span>\n      )}\n      {children}\n    </chakra.div>\n  )\n}\n\nif (__DEV__) {\n  ListItemLabel.displayName = 'ListItemLabel'\n}\n\nexport interface ListItemTertiaryProps extends HTMLChakraProps<'div'> {\n  /**\n   * Spacing between items\n   * @default 2\n   */\n  spacing?: SystemProps['margin']\n}\n\n/**\n * Tertiary item position between the item label and action\n */\nexport const ListItemTertiary: React.FC<ListItemTertiaryProps> = ({\n  children,\n  spacing = 2,\n  ...rest\n}) => {\n  const styles = useStyles()\n\n  const tertiaryStyles: SystemStyleObject = {\n    display: 'flex',\n    '& > *:not(style) ~ *:not(style)': { marginStart: spacing },\n    ...styles.tertiary,\n  }\n\n  return (\n    <chakra.div\n      __css={tertiaryStyles}\n      {...rest}\n      className={cx('saas-list__item-tertiary', rest.className)}\n    >\n      {children}\n    </chakra.div>\n  )\n}\n\nif (__DEV__) {\n  ListItemTertiary.displayName = 'ListItemTertiary'\n}\n\n/**\n * Data list action component, behaves like a button group\n */\nexport const ListItemAction: React.FC<ButtonGroupProps> = ({\n  children,\n  ...rest\n}) => {\n  const styles = useStyles()\n  return (\n    <ButtonGroup\n      variant=\"ghost\"\n      ms={2}\n      sx={styles.action}\n      position=\"absolute\"\n      right={4}\n      {...rest}\n      className={cx('saas-list__item-action', rest.className)}\n    >\n      {children}\n    </ButtonGroup>\n  )\n}\n\nif (__DEV__) {\n  ListItemAction.displayName = 'ListItemAction'\n}\n"],"names":["_excluded","_excluded2","_excluded3","_excluded4","_excluded5","_excluded6","_excluded7","_excluded8","StylesProvider","useStyles","createStylesContext","List","forwardRef","props","ref","items","children","rest","styles","useMultiStyleConfig","listProps","omitThemingProps","content","map","item","i","React","createElement","ListItem","key","id","listStyles","_extends","py","position","list","value","chakra","ul","__css","className","cx","defaultProps","variant","__DEV__","displayName","ListHeader","onClick","action","role","level","headerStyles","display","flexDirection","px","fontSize","fontWeight","color","useColorModeValue","header","li","span","flex","userSelect","icon","primary","secondary","tertiary","href","as","isButton","ContentWrapper","ListItemButton","Fragment","isComposed","disablePadding","itemStyles","alignItems","paddingEnd","undefined","ListItemIcon","ListItemLabel","ListItemTertiary","ListItemAction","buttonStyles","cursor","button","div","tabIndex","spacing","size","iconStyles","flexShrink","me","_icon","Icon","boxSize","isValidElement","type","cloneElement","labelStyles","label","primaryStyles","secondaryStyles","noOfLines","_ref","_objectWithoutPropertiesLoose","tertiaryStyles","marginStart","_ref2","ButtonGroup","ms","sx","right"],"mappings":"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"}